<h1><%= t('announcements.titles.user_announcements') %></h1> 
<table>
  <thead>
    <tr>
      <th> <%= t('announcements.fields.title') %> </th>
      <th></th>
      <th> <%= t('announcements.fields.content') %> </th>
      <th> <%= t('announcements.fields.type') %> </th>
      <th> <%= t('announcements.fields.name') %> </th>
      <th> <%= t('announcements.fields.status') %> </th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @announcements.each do |announcement| %>
      <tr>
        <td><%= announcement.title %></td>
        <td><div style="width: 60px; height:auto"><%= image_tag(announcement.image, style: "width:100%") if announcement.image.attached? %></div></td>
        <td><%= announcement.content %></td>
        <td><%= announcement.announcement_type %></td>
        <td><%= announcement.user_id %></td>
        <td><%= t("announcements.status.#{announcement.status}") %></td>
        <td><%= link_to t('announcements.buttons.show'), announcement %></td>
        
        <% if can? :index, @announcement %>
          <td><%= link_to t('announcements.buttons.edit'), edit_announcement_path(announcement) %></td>
        <% end %>

        <% if can? :destroy, @announcement %>
          <td><%= link_to t('announcements.buttons.destroy'), announcement, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        <% end %>
      </tr>
    <% end %>
    <td><%= link_to t('announcements.buttons.back'), announcements_path %></td>
  </tbody>
</table>
